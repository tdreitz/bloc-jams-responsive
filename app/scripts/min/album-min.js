var createSongRow=function(n,t,r){var e='<tr class="album-view-song-item">  <td class="song-item-number" data-song-number="'+n+'">'+n+'</td>  <td class="song-item-title">'+t+'</td>  <td class="song-item-duration">'+r+"</td></tr>",u=$(e),a=function(){var n=$(this).find(".song-item-number"),t=function(){var n=$(".player-bar h2");n.eq(0).html(currentAlbum.artist+" â€“ "+currentSongFromAlbum.name),n.eq(1).html(currentSongFromAlbum.name),n.eq(2).html(currentAlbum.artist),$(".main-controls .play-pause").html(playerBarPauseButton)};if(null===currentlyPlayingSongNumber)n.html(pauseButtonTemplate),currentlyPlayingSongNumber=parseInt(n.attr("data-song-number")),currentSongFromAlbum=currentAlbum.songs[currentlyPlayingSongNumber-1],t();else if(currentlyPlayingSongNumber===n.attr("data-song-number"))n.html(playButtonTemplate),currentlyPlayingSongNumber=null,$(".main-controls .play-pause").html(playerBarPlayButton);else if(currentlyPlayingSongNumber!==n.attr("data-song-number")){n.html(pauseButtonTemplate);var r=$('[data-song-number="'+currentlyPlayingSongNumber+'"]');r.html(currentlyPlayingSongNumber),currentlyPlayingSongNumber=parseInt(n.attr("data-song-number")),currentSongFromAlbum=currentAlbum.songs[currentlyPlayingSongNumber-1],t()}console.log(typeof currentlyPlayingSongNumber)},l=function(){var n=$(this).find(".song-item-number"),t=parseInt(n.attr("data-song-number"));t!==currentlyPlayingSongNumber&&n.html(playButtonTemplate)},o=function(){var n=$(this).find(".song-item-number"),t=parseInt(n.attr("data-song-number"));t!==currentlyPlayingSongNumber&&n.html(t),console.log("songNumber type is "+typeof t+"\n and currentlyPlayingSongNumber type is "+typeof currentlyPlayingSongNumber)};return u.click(a),u.hover(l,o),u},setCurrentAlbum=function(n){currentAlbum=n;var t=$(".album-view-title"),r=$(".album-view-artist"),e=$(".album-view-release-info"),u=$(".album-cover-art"),a=$(".album-view-song-list");t.text(n.name),r.text(n.artist),e.text(n.year),u.attr("src",n.albumArtUrl),a.empty();for(var l=0;l<n.songs.length;l++){var o=createSongRow(l+1,n.songs[l].name,n.songs[l].length);a.append(o)}},trackIndex=function(n,t){return n.songs.indexOf(t)},nextSong=function(){var n=function(n){return 0==n?currentAlbum.songs.length:n},t=trackIndex(currentAlbum,currentSongFromAlbum);t++,t>=currentAlbum.songs.length&&(t=0),currentlyPlayingSongNumber=t+1,currentSongFromAlbum=currentAlbum.songs[t],$(".currently-playing .song-name").text(currentSongFromAlbum.name),$(".currently-playing .artist-name").text(currentAlbum.artist),$(".currently-playing .artist-song-mobile").text(currentAlbum.artist+" - "+currentSongFromAlbum.name),$(".main-controls .play-pause").html(playerBarPauseButton);var r=n(t),e=$('.song-item-number[data-song-number="'+currentlyPlayingSongNumber+'"]'),u=$('.song-item-number[data-song-number="'+r+'"]');e.html(pauseButtonTemplate),u.html(r)},previousSong=function(){var n=function(n){return n==currentAlbum.songs.length-1?1:n+2},t=trackIndex(currentAlbum,currentSongFromAlbum);t--,0>t&&(t=currentAlbum.songs.length-1),currentSongFromAlbum=currentAlbum.songs[t],currentlyPlayingSongNumber=t+1,$(".currently-playing .song-name").text(currentSongFromAlbum.name),$(".currently-playing .artist-name").text(currentAlbum.artist),$(".currently-playing .artist-song-mobile").text(currentAlbum.artist+" - "+currentSongFromAlbum.name),$(".main-controls .play-pause").html(playerBarPauseButton);var r=n(t),e=$('.song-item-number[data-song-number="'+currentlyPlayingSongNumber+'"]'),u=$('.song-item-number[data-song-number="'+r+'"]');e.html(pauseButtonTemplate),u.html(currentlyPlayingSongNumber)};console.log(typeof currentlyPlayingSongNumber);var playButtonTemplate='<a class="album-song-button"><span class="ion-play"></span></a>',pauseButtonTemplate='<a class="album-song-button"><span class="ion-pause"></span></a>',playerBarPlayButton='<span class="ion-play"><span>',playerBarPauseButton='<span class="ion-pause"><span>',currentAlbum=null,currentlyPlayingSongNumber=null,currentSongFromAlbum=null,$previousButton=$(".main-controls .previous"),$nextButton=$(".main-controls .next");$(document).ready(function(){setCurrentAlbum(albumPicasso),$previousButton.click(previousSong),$nextButton.click(nextSong)});