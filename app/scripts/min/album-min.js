var albumPicasso={name:"The Colors",artist:"Pablo Picasso",label:"Cubism",year:"1881",albumArtUrl:"../assets/images/album_covers/01.png",songs:[{name:"Blue",length:"4:26"},{name:"Green",length:"3:14"},{name:"Red",length:"5:01"},{name:"Pink",length:"3:21"},{name:"Magenta",length:"2:15"}]},albumMarconi={name:"The Telephone",artist:"Guglielmo Marconi",label:"EM",year:"1909",albumArtUrl:"../assets/images/album_covers/20.png",songs:[{name:"Hello, Operator?",length:"1:01"},{name:"Ring, ring, ring",length:"5:01"},{name:"Fits in your pocket",length:"3:21"},{name:"Can you hear me now?",length:"3:14"},{name:"Wrong phone number",length:"2:15"}]},createSongRow=function(e,n,t){var a='<tr class="album-view-song-item">  <td class="song-item-number" data-song-number="'+e+'">'+e+'</td>  <td class="song-item-title">'+n+'</td>  <td class="song-item-duration">'+t+"</td></tr>";return a},setCurrentAlbum=function(e){var n=document.getElementsByClassName("album-view-title")[0],t=document.getElementsByClassName("album-view-artist")[0],a=document.getElementsByClassName("album-view-release-info")[0],s=document.getElementsByClassName("album-cover-art")[0],l=document.getElementsByClassName("album-view-song-list")[0];n.firstChild.nodeValue=e.name,t.firstChild.nodeValue=e.artist,a.firstChild.nodeValue=e.year,s.setAttribute("src",e.albumArtUrl),l.innerHTML=" ";for(var r=0;r<e.songs.length;r++)l.innerHTML+=createSongRow(r+1,e.songs[r].name,e.songs[r].length)},findParentByClassName=function(e,n){for(var t=e.parentElement;t.className!=n;)t=t.parentElement;return t},getSongItem=function(e){switch(e.className){case"album-song-button":case"ion-play":case"ion-pause":return findParentByClassName(e,"song-item-number");case"album-view-song-item":return e.querySelector(".song-item-number");case"song-item-title":case"song-item-duration":return findParentByClassName(e,"album-view-song-item").querySelector(".song-item-number");case"song-item-number":return e;default:return}},clickHandler=function(e){var n=getSongItem(e);if(null===currentlyPlayingSong)n.innerHTML=pauseButtonTemplate,currentlyPlayingSong=n.getAttribute("data-song-number");else if(currentlyPlayingSong===n.getAttribute("data-song-number"))n.innerHTML=playButtonTemplate,currentlyPlayingSong=null;else if(currentlyPlayingSong!==n.getAttribute("data-song-number")){var t=document.querySelector('[data-song-number="'+currentlyPlayingSong+'"]');t.innerHTML=t.getAttribute("data-song-number"),n.innerHTML=pauseButtonTemplate,currentlyPlayingSong=n.getAttribute("data-song-number")}},songListContainer=document.getElementsByClassName("album-view-song-list")[0],songRows=document.getElementsByClassName("album-view-song-item"),playButtonTemplate='<a class="album-song-button"><span class="ion-play"></span></a>',pauseButtonTemplate='<a class="album-song-button"><span class="ion-pause"></span></a>',currentlyPlayingSong=null;window.onload=function(){for(setCurrentAlbum(albumPicasso),songListContainer.addEventListener("mouseover",function(e){if("album-view-song-item"===e.target.parentElement.className){var n=getSongItem(e.target);n.getAttribute("data-song-number")!==currentlyPlayingSong&&(n.innerHTML=playButtonTemplate)}}),i=0;i<songRows.length;i++)songRows[i].addEventListener("mouseleave",function(e){var n=getSongItem(e.target),t=n.getAttribute("data-song-number");t!==currentlyPlayingSong&&(n.innerHTML=t)}),songRows[i].addEventListener("click",function(e){clickHandler(e.target)})};